name: Reusable Job Executor

on:
  workflow_call:
    inputs:
      matrix:
        required: true
        type: string

jobs:
  dynamic-jobs:
    runs-on: ubuntu-latest
    strategy:
      matrix: ${{ fromJson(inputs.matrix) }}
    name: Run ${{ matrix.job }}
    steps:
      - name: Running ${{ matrix.job }}
        run: echo "ğŸ”§ Running job: ${{ matrix.job }}"

      - name: Build Project
        if: ${{ matrix.job == 'build' }}
        run: |
          echo "ğŸ› ï¸ Building project..."
          sleep 1
          echo "âœ… Build complete"

      - name: Run Tests
        if: ${{ matrix.job == 'test' }}
        run: |
          echo "ğŸ§ª Running tests..."
          sleep 1
          echo "âœ… Tests passed"

      - name: Lint Code
        if: ${{ matrix.job == 'lint' }}
        run: |
          echo "ğŸ§¹ Linting..."
          sleep 1
          echo "âœ… Lint passed"

      - name: Deploy App
        if: ${{ matrix.job == 'deploy' }}
        run: |
          echo "ğŸš€ Deploying..."
          sleep 1
          echo "âœ… Deployment complete"
